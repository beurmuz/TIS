# 1. 리액트 시작

## 1. 1. 왜 리액트인가?
- 자바스크립트만으로도 규모가 큰 애플리케이션을 만들 수 있게됨
- 대규모 애플리케이션 중 프런트엔드 사이드에서 돌아가는 애플리케이션 구조를 관리하려면 프레임워크를 이용하는 것이 편함
    - 이 프레임워크들은 주로 MVC (Model-view-controller), MVVM (Model-view model), MVW (Model-view-whatever) 아키텍처를 사용함
- MVC, MVVM, MVM 등과 같은 여러 구조가 지닌 공통점?
    - 모델 (model)과 뷰 (view)가 있음
    - 모델: 애플리케이션에서 사용하는 데이터를 관리하는 영역
    - 뷰: 사용자에게 보이는 부분
    - 컨트롤러: 프로그램이 사용자로부터 어떤 작업을 받으면, 모델 데이터를 조회, 수정하고 변경된 사항을 뷰에 반영함
      - 변경된 사항을 뷰에 반영하는 과정에서 보통 뷰를 변형함
      - 업데이트하는 항목에 따라, 어떤 부분을 찾아 변경할지 규칙을 정하는 작업은 간단하나 애플리케이션의 규모가 커지면 상당히 복잡해짐
- 페이스북은 위의 문제를 해결하고자 기존 뷰를 날리고 처음부터 새로 렌더링하는 방식을 고안해냄
    - 애플리케이션 구조가 매우 간단해지고 작성할 코드의 양도 많이 줄어듦
    - 그저 뷰가 어떻게 생길지 선언하고, 데이터에 변화가 있으면 새로 렌더링하면 되기 때문

> 페이스북은 최대한 성능을 아끼고 편안한 사용자 경험을 제공하며 구현하고자 **리액트**를 개발함
> 

### 리액트의 이해

- 자바스크립트 라이브러리로 UI를 만들 때 사용
- 구조가 MVC, MVW 등인 프레임워크와 달리 **오직 view만 신경쓰는 라이브러리**

### 용어

- 컴포넌트
    - 특정 부분이 어떻게 생길지 정하는 선언체
    - 사용자 인터페이스를 다룰 때 사용하는 템플릿과는 다른 개념
    - 재사용이 가능한 API
    - 수많은 기능들을 내장하며 컴포넌트 하나에서 해당 컴포넌트의 생김새, 작동 방식을 정의
- 렌더링
    - 사용자 화면에 뷰를 보여주는 것

### 리액트가 성능을 아끼고, 최적의 사용자 경험을 제공하는 방법

1. 초기 렌더링
- 모든 프레임워크와 라이브러리는 맨 처음에 어떻게 보일지 결정하는 초기 렌더링이 필요
- 리액트의 초기 렌더링을 다루는 `render()` 함수
    - 컴포넌트가 어떻게 생겼는지를 정의
    - 뷰의 생김새, 작동 방법에 대한 정보가 있는 `객체`를 반환
    - 실행 시 내부에 있는 컴포넌트들도 재귀적으로 렌더링 됨
    - 최상위 컴포넌트의 렌더링 작업 후 <br> → HTML 마크업 생성 <br> → DOM 요소 안에 주입
- 컴포넌트를 실제 페이지에 렌더링할 때
    1) 문자열 형태의 HTML 코드 생성 후
    2) 특정 DOM에 해당 내용을 주입하면 이벤트가 적용됨
    

2. 조화 과정
- 뷰를 업데이트할 때 `조화 과정을 거친다`라고 표
    - 컴포넌트에서 데이터에 변화가 있을 때, 변화에 따라 뷰가 바뀌는 것 같지만 새로운 요소로 갈아 끼움 
- 컴포넌트는 데이터를 업데이트 했을 때 새로운 데이터를 가지고 render함수를 호출
    - 이때 이전에 render함수가 만든 컴포넌트 정보와 현재 render함수가 만든 컴포넌트 정보를 비교
    - 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트함

> 루트 노드부터 시작해 전체 컴포넌트를 처음부터 다시 렌더링하는 것 같지만, 사실 최적의 자원을 사용해 이를 수행함

## 1. 2. 리액트의 특징

- 리액트는 오직 뷰만 담당 → 기능은 직접 구현해야 함
    - 라우터: react-router / Ajax 처리: axios와 fetch / 상태 관리: Redux나 MobX
- 프레임워크가 아닌 라이브러리임
    - 내 취향대로 스택을 설정할 수 있지만, 여러 라이브러리를 접해야 하는 단점이 있음

### 1) DOM (Document Object Model)

- 객체로 `문서 구조`를 표현하는 방법
- XML이나 HTML로 작성
- 웹 브라우저는 DOM을 활용해 객체에 자바스크립트와 CSS를 적용
- 트리형태 → 특정 노드 검색, 수정, 제거, 삽입이 가능
- DOM의 치명적인 단점?
    - 동적 UI에 최적화되어있지 않음
    - 규모가 큰 애플리케이션에서 DOM에 직접 접근해 변화를 주면 **성능 이슈**가 발생 → 속도저하

> DOM 자체는 매우 빠르나, DOM에 변화가 발생하면 웹 브라우저가 CSS를 다시 연산하고 레이아웃을 구성, 페이지를 리페인트하여 많은 시간이 소요됨
> 
- DOM의 단점은 DOM을 최소한으로 조작해 작업하는 방식으로 개선 가능
    - React는 **Virtual DOM** 방식을 이용해 DOM 업데이트를 추상화함
    → DOM 처리 횟수를 최소화하고 효율적으로 진행시킴

### 2) Virtual DOM

- 실제 DOM에 접근해 조작하는 대신 DOM 사본과 비슷한 자바스크립트 객체를 이용
- 리액트에서 데이터가 변해 웹 브라우저에 실제 DOM을 업데이트 하는 방법
    1. 데이터 업데이트 시 전체 UI를 Virtual DOM에 리렌더링
    2. 이전 Virtual DOM에 있던 내용과 현재 내용을비교
    3. 바뀐 부분만 실제 DOM에 적용

> Virtual DOM을 사용한다고 해서 무조건 빠른걸까?
→ No. 굳이 리액트를 쓰지 않아도 최적화를 통해 속도를 개선이 가능함
> 
- 리액트와 Virtual DOM은 `업데이트 처리 간결성`을 항상 제공함
    - UI를 업데이트하는 과정에서 생기는 복잡함을 해소
    - 더욱 쉽게 업데이트에 접근할 수 있게 해줌

## 1. 3. Node.js

- 크롬 V8자바스크립트 엔진으로 빌드한 자바스크립트 런타임
- 웹 브라우저 환경이 아닌 곳에서도 자바스크립트를 사용할 수 있음

## 1. 4. npm (node package manager)

- node.js 패키지 매니저 도구
- 많은 패키지(재사용 가능한 코드)를 설치하고, 설치한 패키지의 버전 관리 가능

## 1. 5. yarn

- npm을 대체할 수 있는 도구
- npm보다 더 빠르고 효율적인 캐시 시스템, 기타 부가 기능을 제공함

## 1. 6. Git

- 형상 관리 도구 (Configuration Management Tool)
- 프로젝트 버전 관리 및 협업 시 사용

## 1. 7. CRA: create-react-app

- 리액트 프로젝트 생성 시 필요한 웹팩, 바벨 등의 설치 및 설정 과정을 생략하고 간편하게 프로젝트 작업 환경을 구축해주는 도구