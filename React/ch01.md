# 1. 리액트 시작

## 1. 1. 왜 리액트인가?

- 이제 자바스크립트만으로도 규모가 큰 애플리케이션을 만들 수 있는 시대가 옴
- 대규모 애플리케이션 중 프런트엔드 사이드에서 돌아가는 애플리케이션 구조를 관리하려면 프레임워크를 이용하는 것이 편함
    - 이 프레임워크들은 주로 MVC (Model-view-controller) 아키텍처, MVVM (Model-view model) 아키텍처, MVW (Model-view-whatever)를 사용함
- MVC, MVVM, MVM 등과 같은 여러 구조가 지닌 공통점?
    - 모델 (model)과 뷰 (view)가 있다는 것
    - 모델은 애플리케이션에서 사용하는 데이터를 관리하는 영역
    - 뷰는 사용자에게 보이는 부분
    - 컨트롤러는 프로그램이 사용자에게서 어떤 작업을 받으면 모델 데이터를 조회하거나 수정하고, 변경된 사항을 뷰에 반영
- 변경된 사항을 뷰에 반영하는 과정에서 보통 뷰를 변형함
- 업데이트하는 항목에 따라 어떤 부분을 찾아서 변경할지 규칙을 정하는 작업은 간단함
    - 그러나 애플리케이션 규모가 크면 상당히 복잡해짐
    - 제대로 관리하지 않을 경우 성능이 떨어짐
- 페이스북은 위의 문제를 해결하기 위해 기존 뷰를 날리고 처음부터 새로 렌더링하는 방식을 고안해냄
    - 이렇게하면 애플리케이션 구조가 매우 간단해지고, 작성해야 할 코드 양도 많이 줄어들게 됨
    - 그저 뷰가 어떻게 생길지 선언하고, 데이터에 변화가 있으면 새로 렌더링하면 되기 때문

> 페이스북은 최대한 성능을 아끼고 편안한 사용자 경험을 제공하면서 구현하고자 **리액트**를 개발
> 

### 리액트의 이해

- 자바스크립트 라이브러리
- 사용자 인터페이스를 만드는 데 사용함
- 구조가 MVC, MVW 등인 프레임워크와 달리 **오직 view만 신경쓰는 라이브러리**

### 용어

- 컴포넌트
    - 특정 부분이 어떻게 생길지 정하는 선언체
    - 사용자 인터페이스를 다룰 때 사용하는 템플릿과는 다른 개념
    - 재사용이 가능한 API로 수많은 기능들을 내장하고 있고, 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동 방식을 정의함
- 렌더링
    - 사용자 화면에 뷰를 보여주는 것

### 리액트가 성능을 아끼고, 최적의 사용자 경험을 제공하는 방법

1. 초기 렌더링
- 모든 프레임워크, 라이브러리는 맨 처음에 어떻게 보일지를 결정하는 초기 렌더링이 필요함
- 리액트에서는 이를 다루는 `render함수`가 있음
    - `render() {…}`는 컴포넌트가 어떻게 생겼는지를 정의함
    - 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 지닌 **객체**를 반환
    - render함수를 실행하면 내부에 있는 컴포넌트들도 재귀적으로 렌더링 됨
    - 최상위 컴포넌트의 렌더링 작업 후 → HTML 마크업 생성 → DOM 요소 안에 주입
- 컴포넌트를 실제 페이지에 렌더링할 때
    
    1) 문자열 형태의 HTML 코드 생성 후
    
    2) 특정 DOM에 해당 내용을 주입하면 이벤트가 적용됨
    

1. 조화 과정
- 뷰를 업데이트할 때는 `조화 과정을 거친다`라고 표현함
    - 컴포넌트에서 데이터에 변화가 있을 때, 변화에 따라 뷰가 변형되는 듯하나
    - 사실은 새로운 요소로 갈아 끼우기 때문
- 컴포넌트는 데이터를 업데이트 했을 때 새로운 데이터를 가지고 render함수를 호출함
    - 이때 이전에 render함수가 만들었던 컴포넌트 정보와 현재 render함수가 만든 컴포넌트 정보를 비교함
    - 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트함

> 루트 노드부터 시작해 전체 컴포넌트를 처음부터 다시 렌더링하는 것 같지만, 사실 최적의 자원을 사용해 이를 수행함

