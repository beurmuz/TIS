# 테스팅의 원칙

1. 한번 작성된 테스트 코드는 영원히 유지보수 해야함
2. 내부 구현 사항을 테스트하면 안됨
3. 재사용성 높이기
4. 배포용 코드와 철저하게 분리하기
5. 테스트코드를 통해 문서화의 효과 불러오기

## 테스트 코드의 구조

- 준비(Arrange) > 실행(Act) > 검증(Assert)
- 무언가 주어졌을 때(Given) > 코드가 실행될 때(When) > 그러면 이렇게 에상한다(Then)

## 좋은 테스트의 원칙: FIRST

|                 |                                                                                          |
| :-------------- | :--------------------------------------------------------------------------------------- |
| Fast            | 느린것에 대한 의존성 낮추기 => mock이나 stub 사용하기                                    |
| Isolated        | 최소한의 유닛으로 검증하기 => 독립적이고 집중적으로 유지                                 |
| Repeatable      | 실행할 때마다 동일한 결과를 유지하기 => 환경의 영향을 받지 않도록 작성해야함             |
| Self-Validating | 스스로 결과 검증하기 => 자동화를 통한 검증단계(CI/CD)                                    |
| Timely          | 시기적절하게 테스트 코드를 작성하기 => 사용자에게 배포되기 전에 테스트 코드를 작성해야함 |

## 테스트의 범위? Right-BICEP

|                             |
| :-------------------------- | :----------------------------------------------------- |
| Right                       | 모든 요구 사항이 정상 동작하는지 확인해야함            |
| Boundary conditions         | 모든 코너 케이스에 대해 테스트를 해야함                |
| Inverse relationship        | 역관계를 적용해서 결과값을 확인해야함 => 일관성을 유지 |
| Cross-Check                 | 다른 수단을 이용해서 결과값이 맞는지 확인해야함        |
| Error conditions            | 불행한 경로에 대해 우아하게 처리 했는지를 확인해야함   |
| Performance characteristics | 성능 확인은 테스트를 통해 정확한 수치로 확인해야함     |

## CORRECT 원칙

|             |
| :---------- | :----------------------------------------------- |
| Conformance | 특정 포맷을 준수하는지                           |
| Ordering    | 순서 조건 확인하기                               |
| Range       | 숫자의 범위                                      |
| Reference   | 외부 의존성 유무, 특정 조건의 유무               |
| Existence   | 값이 존재하지 않을 때 어떻게 동작하는지 확인하기 |
| Cardinality | 0-1-N 법칙에 따라 검증하기                       |
| Time        | 상대, 절대, 동시의 일들                          |
